/*******************************************************************************
	GLUE-Math test suite: Fraction and Exponent
*******************************************************************************/
#include "../legacy/legacy.h"
#include <stdio.h>
#include <stdlib.h>
#include <float.h>
/*******************************************************************************
Compile on MinGW 64bit:
$ gcc -Wall -Wextra -O3 -o bin/frexp test/frexp.c legacy/frexp.c legacy/frexpl.c legacy/frexpf.c

And Test Result:
GLUE-Math with POSIX standard
Test Suite:
  Fraction and Exponent

x, frexp()
  0.2  -2  0.800000000000000
  0.4  -1  0.800000000000000
  0.6   0  0.600000000000000
  0.8   0  0.800000000000000
  1.0   1  0.500000000000000
  1.2   1  0.600000000000000
  1.4   1  0.700000000000000
  1.6   1  0.800000000000000
  1.8   1  0.900000000000000
  2.0   2  0.500000000000000
  2.2   2  0.550000000000000
  2.4   2  0.600000000000000
  2.6   2  0.650000000000000
  2.8   2  0.700000000000000
  3.0   2  0.750000000000000
  3.2   2  0.800000000000000
  3.4   2  0.850000000000000
  3.6   2  0.900000000000000
  3.8   2  0.950000000000000
  4.0   3  0.500000000000000
x, frexpl()
  0.2  -2  0.800000000000000000
  0.4  -1  0.800000000000000000
  0.6   0  0.600000000000000000
  0.8   0  0.800000000000000000
  1.0   1  0.500000000000000000
  1.2   1  0.600000000000000000
  1.4   1  0.700000000000000000
  1.6   1  0.800000000000000000
  1.8   1  0.900000000000000000
  2.0   2  0.500000000000000000
  2.2   2  0.550000000000000000
  2.4   2  0.600000000000000000
  2.6   2  0.650000000000000000
  2.8   2  0.700000000000000000
  3.0   2  0.750000000000000000
  3.2   2  0.800000000000000000
  3.4   2  0.850000000000000000
  3.6   2  0.900000000000000000
  3.8   2  0.950000000000000000
  4.0   3  0.500000000000000000
x, frexpf()
  0.2  -2  0.800000
  0.4  -1  0.800000
  0.6   0  0.600000
  0.8   0  0.800000
  1.0   1  0.500000
  1.2   1  0.600000
  1.4   1  0.700000
  1.6   1  0.800000
  1.8   1  0.900000
  2.0   2  0.500000
  2.2   2  0.550000
  2.4   2  0.600000
  2.6   2  0.650000
  2.8   2  0.700000
  3.0   2  0.750000
  3.2   2  0.800000
  3.4   2  0.850000
  3.6   2  0.900000
  3.8   2  0.950000
  4.0   3  0.500000
*******************************************************************************/

int
main(void)
{
	int exp;
	puts("GLUE-Math with POSIX standard");
	puts("Test Suite:");
	puts("  Fraction and Exponent");
	puts("");
	puts("x, frexp()");
	for (int i = 1; i <= 20; i++) {
		const double x = i / 5.0;  // Iterator Constant
		const double fra = frexp(x, &exp);
		printf("%5.1f %3d %*.*f\n", x, exp, DBL_DIG + 3, DBL_DIG, fra);
	}
	puts("x, frexpl()");
	for (int i = 1; i <= 20; i++) {
		const long double x = i / 5.0L;  // Iterator Constant
		const long double fra = frexpl(x, &exp);
		printf("%5.1Lf %3d %*.*Lf\n", x, exp, LDBL_DIG + 3, LDBL_DIG, fra);
	}
	puts("x, frexpf()");
	for (int i = 1; i <= 20; i++) {
		const float x = i / 5.0;  // Iterator Constant
		const float fra = frexpf(x, &exp);
		printf("%5.1f %3d %*.*f\n", x, exp, FLT_DIG + 3, FLT_DIG, fra);
	}
	return 0;
}
