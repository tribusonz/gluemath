/*******************************************************************************
	GLUE-Math test routine: binompmf()

	Reference:
		C-gengo ni yoru Hyoujun Algorithm Jiten - Haruhiko Okumura
			ISBN978-4-7741-9690-9
		Handbook of Mathematical Functions
			Edited by Milton Abramowitz and Irene A. Stegun
		How to calculate binomial probabilities
			John D. Cook
*******************************************************************************/
#include "../dist/dist.h"
#include <stdio.h>
#include <stdlib.h>
#include <float.h>
/*******************************************************************************
MinGW 64bit gcc build:
$ gcc -Wall -Wextra -O3 -o bin/binompmf test/binompmf.c dist/binompmf.c

And test result:
Binomial Distribution PMF
n, p? 50 0.5
-> number of trials: 50
-> percentile: 0.5
(x)  Bi(x; n, p)
  0  0.000000000000001
  1  0.000000000000044
  2  0.000000000001088
  3  0.000000000017408
  4  0.000000000204547
  5  0.000000001881837
  6  0.000000014113777
  7  0.000000088715169
  8  0.000000476844031
  9  0.000002225272144
 10  0.000009123615792
 11  0.000033176784697
 12  0.000107824550266
 13  0.000315179454624
 14  0.000832974272935
 15  0.001999138255044
 16  0.004373114932910
 17  0.008746229865819
 18  0.016034754754002
 19  0.027005902743582
 20  0.041859149252552
 21  0.059798784646502
 22  0.078825670670389
 23  0.095961686033516
 24  0.107956896787708
 25  0.112275172659216
 26  0.107956896787708
 27  0.095961686033516
 28  0.078825670670389
 29  0.059798784646502
 30  0.041859149252552
 31  0.027005902743582
 32  0.016034754754002
 33  0.008746229865819
 34  0.004373114932910
 35  0.001999138255044
 36  0.000832974272935
 37  0.000315179454624
 38  0.000107824550266
 39  0.000033176784697
 40  0.000009123615792
 41  0.000002225272144
 42  0.000000476844031
 43  0.000000088715169
 44  0.000000014113777
 45  0.000000001881837
 46  0.000000000204547
 47  0.000000000017408
 48  0.000000000001088
 49  0.000000000000044
 50  0.000000000000001
*******************************************************************************/
int
main(void)
{
	int n;
	double p;

	puts("Binomial Distribution PMF");
    printf("n, p? ");  scanf("%d%lf", &n, &p);
	printf("-> number of trials: %d\n-> percentile: %g\n", n, p);
	puts("(x)  Bi(x; n, p)");
	for(volatile int x = 0; x <= n; x++)
	{
		printf("% 3d  %.*f\n", x, DBL_DIG, binompmf(x, n, p));
	}
	return 0;
}
