/*******************************************************************************
	GLUE-Math test routine: sec()/asec()
*******************************************************************************/
#include "../realmath/realmath.h"
#include <stdio.h>
#include <stdlib.h>
#include <float.h>
/*******************************************************************************
Compile on MinGW 64bit:
$ gcc -Wall -Wextra -O3 -o bin/secasec test/secasec.c realmath/asec_r8.c realmath/asec_re.c realmath/asec_r4.c realmath/sec_r8.c realmath/sec_re.c realmath/sec_r4.c

And Test Result:
for long double
  x    自家製asec         左のsec
-2.00   2.09439510239319549  -2
-1.90   2.12505816124722473  -1.9
-1.80   2.15982729701117050  -1.8
-1.70   2.19967125228994839  -1.7
-1.60   2.24592785973192827  -1.6
-1.50   2.30052398302186298  -1.5
-1.40   2.36639928027943193  -1.4
-1.30   2.44843274601303942  -1.3
-1.20   2.55590711013264228  -1.2
-1.10   2.71189298743836872  -1.1
-1.00   3.14159265358979324  -1
 1.00   0.00000000000000000   1
 1.10   0.42969966615142452   1.1
 1.20   0.58568554345715096   1.2
 1.30   0.69315990757675381   1.3
 1.40   0.77519337331036131   1.4
 1.50   0.84106867056793026   1.5
 1.60   0.89566479385786497   1.6
 1.70   0.94192140129984485   1.7
 1.80   0.98176535657862274   1.8
 1.90   1.01653449234256851   1.9
 2.00   1.04719755119659775   2

for double
  x    自家製asec      左のsec
-2.00   2.09439510239320  -2
-1.90   2.12505816124722  -1.9
-1.80   2.15982729701117  -1.8
-1.70   2.19967125228995  -1.7
-1.60   2.24592785973193  -1.6
-1.50   2.30052398302186  -1.5
-1.40   2.36639928027943  -1.4
-1.30   2.44843274601304  -1.3
-1.20   2.55590711013264  -1.2
-1.10   2.71189298743837  -1.1
-1.00   3.14159265358979  -1
 1.00   0.00000000000000   1
 1.10   0.42969966615142   1.1
 1.20   0.58568554345715   1.2
 1.30   0.69315990757675   1.3
 1.40   0.77519337331036   1.4
 1.50   0.84106867056793   1.5
 1.60   0.89566479385786   1.6
 1.70   0.94192140129984   1.7
 1.80   0.98176535657862   1.8
 1.90   1.01653449234257   1.9
 2.00   1.04719755119660   2

for float
  x    自家製asec  左のsec
-2.00   2.09440  -2
-1.90   2.12506  -1.9
-1.80   2.15983  -1.8
-1.70   2.19967  -1.7
-1.60   2.24593  -1.6
-1.50   2.30052  -1.5
-1.40   2.36640  -1.4
-1.30   2.44843  -1.3
-1.20   2.55591  -1.2
-1.10   2.71189  -1.1
-1.00   3.14159  -1
 1.00   0.00000   1
 1.10   0.42970   1.1
 1.20   0.58569   1.2
 1.30   0.69316   1.3
 1.40   0.77519   1.4
 1.50   0.84107   1.5
 1.60   0.89566   1.6
 1.70   0.94192   1.7
 1.80   0.98177   1.8
 1.90   1.01653   1.9
 2.00   1.04720   2
*******************************************************************************/

void asec_re_test(void);
void asec_r8_test(void);
void asec_r4_test(void);

int
main(void)
{
	puts("for long double");
	asec_re_test();
	puts("");
	puts("for double");
	asec_r8_test();
	puts("");
	puts("for float");
	asec_r4_test();
	return 0;
}

void
asec_re_test(void)
{
	long double x, y;

	printf("  x    %-*s  左のsec\n", LDBL_DIG + 2, "自家製asec");
	for (volatile int i = -20; i <= 20; i++) {
		if (i > -10 && i < 10)  continue;
		x = i / 10.0L;  y = asec_re(x);
		printf("%5.2Lf  %*.*Lf  % Lg\n",
			x, LDBL_DIG + 2, LDBL_DIG - 1, y, sec_re(y));
	}
}

void
asec_r8_test(void)
{
	double x, y;

	printf("  x    %-*s  左のsec\n", DBL_DIG + 2, "自家製asec");
	for (volatile int i = -20; i <= 20; i++) {
		if (i > -10 && i < 10)  continue;
		x = i / 10.0;  y = asec_r8(x);
		printf("%5.2f  %*.*f  % g\n",
			x, DBL_DIG + 2, DBL_DIG - 1, y, sec_r8(y));
	}
}

void
asec_r4_test(void)
{
	float x, y;

	printf("  x    %-*s  左のsec\n", FLT_DIG + 2, "自家製asec");
	for (volatile int i = -20; i <= 20; i++) {
		if (i > -10 && i < 10)  continue;
		x = i / 10.0;  y = asec_r4(x);
		printf("%5.2f  %*.*f  % g\n",
			x, FLT_DIG + 2, FLT_DIG - 1, y, sec_r4(y));
	}
}
