/*******************************************************************************
	GLUE-Math test routine: expm1()
*******************************************************************************/
#include "../realmath/realmath.h"
#include <stdio.h>
#include <stdlib.h>
#include <float.h>
/*******************************************************************************
Compile on MinGW 64bit:
$ gcc -Wall -Wextra -O3 -Irealmath -c realmath/expm1_r4.c
$ gcc -Wall -Wextra -O3 -Irealmath -c realmath/expm1_r8.c
$ gcc -Wall -Wextra -O3 -Irealmath -c realmath/expm1_re.c
$ gcc -o bin/expm1 test/expm1.c expm1_r4.o expm1_r8.o expm1_re.o

And Test Result:
GLUE-Math with POSIX standard
Test Suite:
  expm1()

  (x)   float     double             long double
 -1.0  -0.632121 -0.632120558828558 -0.632120558828557678
 -0.9  -0.593430 -0.593430340259401 -0.593430340259400897
 -0.8  -0.550671 -0.550671035882778 -0.550671035882778429
 -0.7  -0.503415 -0.503414696208591 -0.503414696208590463
 -0.6  -0.451188 -0.451188363905973 -0.451188363905973555
 -0.5  -0.393469 -0.393469340287366 -0.393469340287366577
 -0.4  -0.329680 -0.329679953964361 -0.329679953964360714
 -0.3  -0.259182 -0.259181779318282 -0.259181779318282126
 -0.2  -0.181269 -0.181269246922018 -0.181269246922018151
 -0.1  -0.095162 -0.095162581964040 -0.095162581964040432
  0.0   0.000000  0.000000000000000  0.000000000000000000
  0.1   0.105171  0.105170918075647  0.105170918075647631
  0.2   0.221403  0.221402758160169  0.221402758160169847
  0.3   0.349859  0.349858807576002  0.349858807576003089
  0.4   0.491824  0.491824697641270  0.491824697641270351
  0.5   0.648721  0.648721270700129  0.648721270700128146
  0.6   0.822118  0.822118800390509  0.822118800390508934
  0.7   1.013753  1.013752707470477  1.013752707470476432
  0.8   1.225541  1.225540928492467  1.225540928492467704
  0.9   1.459603  1.459603111156949  1.459603111156949718
  1.0   1.718282  1.718281828459044  1.718281828459045235
*******************************************************************************/

int
main(void)
{
	puts("GLUE-Math with POSIX standard");
	puts("Test Suite:");
	puts("  expm1()");
	puts("");
	printf("  %3.3s   %-*.*s  %-*.*s  %-*.*s\n", "(x)",
	       FLT_DIG + 2, FLT_DIG + 2, "float",
	       DBL_DIG + 2, DBL_DIG + 2, "double",
	       LDBL_DIG + 2, LDBL_DIG + 2, "long double");
	for (int i = -10; i <= 10; i++) {
		const double x = i / 10.0;  // Iterator Constant
		printf("%5.1f  %*.*f %*.*f %*.*Lf\n",
		    x, FLT_DIG + 3, FLT_DIG, expm1_r4(x),
		    DBL_DIG + 3, DBL_DIG, expm1_r8(x),
		    LDBL_DIG + 3, LDBL_DIG, expm1_re(x));
	}
	return 0;
}
