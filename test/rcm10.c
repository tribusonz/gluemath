/*******************************************************************************
	GLUE-Math test routine: rcm10()

*******************************************************************************/
#include "../arch/arch.h"
#include <stdio.h>
#include <stdlib.h>
#include <float.h>
/*******************************************************************************
Compile on MinGW 64bit:
$ gcc -Wall -Wextra -O3 -o bin/rcm10 test/rcm10.c arch/rcm10.c arch/rcm10l.c arch/rcm10f.c

And Test Result:
RCM test
x, rcm10()
  0.2  -1  2.000000000000000
  0.4  -1  4.000000000000000
  0.6  -1  6.000000000000000
  0.8  -1  8.000000000000000
  1.0   0  1.000000000000000
  1.2   0  1.200000000000000
  1.4   0  1.400000000000000
  1.6   0  1.600000000000000
  1.8   0  1.800000000000000
  2.0   0  2.000000000000000
  2.2   0  2.200000000000000
  2.4   0  2.400000000000000
  2.6   0  2.600000000000000
  2.8   0  2.800000000000000
  3.0   0  3.000000000000000
  3.2   0  3.200000000000000
  3.4   0  3.400000000000000
  3.6   0  3.600000000000000
  3.8   0  3.800000000000000
  4.0   0  4.000000000000000
x, rcm10l()
  0.2  -1  2.000000000000000000
  0.4  -1  4.000000000000000000
  0.6  -1  6.000000000000000000
  0.8  -1  8.000000000000000000
  1.0   0  1.000000000000000000
  1.2   0  1.200000000000000000
  1.4   0  1.400000000000000000
  1.6   0  1.600000000000000000
  1.8   0  1.800000000000000000
  2.0   0  2.000000000000000000
  2.2   0  2.200000000000000000
  2.4   0  2.400000000000000000
  2.6   0  2.600000000000000000
  2.8   0  2.800000000000000000
  3.0   0  3.000000000000000000
  3.2   0  3.200000000000000000
  3.4   0  3.400000000000000000
  3.6   0  3.600000000000000000
  3.8   0  3.800000000000000000
  4.0   0  4.000000000000000000
x, rcm2f()
  0.2  -1  2.000000
  0.4  -1  4.000000
  0.6  -1  6.000000
  0.8  -1  8.000000
  1.0   0  1.000000
  1.2   0  1.200000
  1.4   0  1.400000
  1.6   0  1.600000
  1.8   0  1.800000
  2.0   0  2.000000
  2.2   0  2.200000
  2.4   0  2.400000
  2.6   0  2.600000
  2.8   0  2.800000
  3.0   0  3.000000
  3.2   0  3.200000
  3.4   0  3.400000
  3.6   0  3.600000
  3.8   0  3.800000
  4.0   0  4.000000
*******************************************************************************/

int
main(void)
{
	int exp;
	puts("RCM test");
	puts("x, rcm10()");
	for (int i = 1; i <= 20; i++) {
		const double x = i / 5.0;  // Iterator Constant
		const double fra = rcm10(x, &exp);
		printf("%5.1f %3d %*.*f\n", x, exp,
		       DBL_DIG + 3, DBL_DIG, fra);
	}
	puts("x, rcm10l()");
	for (int i = 1; i <= 20; i++) {
		const long double x = i / 5.0L;  // Iterator Constant
		const long double fra = rcm10l(x, &exp);
		printf("%5.1Lf %3d %*.*Lf\n", x, exp,
		       LDBL_DIG + 3, LDBL_DIG, fra);
	}
	puts("x, rcm2f()");
	for (int i = 1; i <= 20; i++) {
		const float x = i / 5.0;  // Iterator Constant
		float fra = rcm10f(x, &exp);
		printf("%5.1f %3d %*.*f\n", x, exp,
		       FLT_DIG + 3, FLT_DIG, fra);
	}
	return 0;
}
